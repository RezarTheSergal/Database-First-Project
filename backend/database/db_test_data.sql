-- Установка кодировки и подключение к нужной БД (при необходимости)
-- \c your_database_name;

-- 1. Таблица equipment (15 записей)
INSERT INTO equipment (name, type, install_date, last_service, status) VALUES
('Миксер A1', 'Миксер', '2020-03-15', '2023-11-10', 'working'),
('Пресс B2', 'Пресс', '2019-07-22', '2024-01-05', 'working'),
('Фасовщик C3', 'Фасовочная машина', '2021-01-10', '2023-12-18', 'maintenance'),
('Пастеризатор D4', 'Теплообменник', '2018-11-30', '2023-10-20', 'working'),
('Конвейер E5', 'Транспортер', '2022-05-01', NULL, 'working'),
('Сепаратор F6', 'Сепаратор', '2020-09-12', '2024-02-14', 'broken'),
('Гомогенизатор G7', 'Гомогенизатор', '2021-08-03', '2023-11-25', 'working'),
('Фильтр H8', 'Фильтр', '2019-12-05', '2023-09-30', 'working'),
('Насос I9', 'Насос', '2022-02-14', NULL, 'working'),
('Сушилка J10', 'Сушилка', '2020-06-18', '2024-01-22', 'working'),
('Охладитель K11', 'Холодильник', '2021-11-07', '2023-12-01', 'working'),
('Дозатор L12', 'Дозатор', '2019-04-20', '2023-10-10', 'maintenance'),
('Этикетировщик M13', 'Этикетировщик', '2022-07-01', NULL, 'working'),
('Капсулятор N14', 'Капсулятор', '2020-10-15', '2024-02-01', 'working'),
('Стерилизатор O15', 'Стерилизатор', '2021-03-22', '2023-11-15', 'working');

-- 2. Таблица products (12 записей)
INSERT INTO products (name, flavor, volume_ml, price) VALUES
('Энергетик Boost', 'Лимон-мята', 250, 99.90),
('Энергетик Boost', 'Клубника', 250, 99.90),
('Энергетик Boost', 'Ананас', 250, 99.90),
('Энергетик MaxCharge', 'Чёрная вишня', 500, 149.90),
('Энергетик MaxCharge', 'Голубика', 500, 149.90),
('Энергетик MaxCharge', 'Манго', 500, 149.90),
('Изотоник Hydrate', 'Апельсин', 500, 89.50),
('Изотоник Hydrate', 'Лимон', 500, 89.50),
('Изотоник Hydrate', 'Арбуз', 500, 89.50),
('Витаминный напиток VitaZest', 'Яблоко-морковь', 330, 119.00),
('Витаминный напиток VitaZest', 'Апельсин-имбирь', 330, 119.00),
('Витаминный напиток VitaZest', 'Гранат', 330, 119.00);

-- 3. Таблица sensors (30 записей — по 2 на оборудование)
INSERT INTO sensors (equipment_id, type, unit, location) VALUES
(1, 'temperature', '°C', 'Вход миксера'),
(1, 'vibration', 'mm/s', 'Подшипник миксера'),
(2, 'pressure', 'bar', 'Гидравлическая система'),
(2, 'vibration', 'mm/s', 'Головка пресса'),
(3, 'temperature', '°C', 'Зона фасовки'),
(3, 'noise', 'dB', 'Корпус фасовщика'),
(4, 'temperature', '°C', 'Выход теплообменника'),
(4, 'pressure', 'bar', 'Вход пастеризатора'),
(5, 'vibration', 'mm/s', 'Лента конвейера'),
(5, 'noise', 'dB', 'Привод конвейера'),
(6, 'temperature', '°C', 'Ротор сепаратора'),
(6, 'vibration', 'mm/s', 'Подшипник сепаратора'),
(7, 'pressure', 'bar', 'Выход гомогенизатора'),
(7, 'temperature', '°C', 'Камера гомогенизации'),
(8, 'pressure', 'bar', 'Вход фильтра'),
(8, 'temperature', '°C', 'Корпус фильтра'),
(9, 'pressure', 'bar', 'Выход насоса'),
(9, 'vibration', 'mm/s', 'Мотор насоса'),
(10, 'temperature', '°C', 'Зона сушки'),
(10, 'noise', 'dB', 'Вентилятор сушилки'),
(11, 'temperature', '°C', 'Холодильная камера'),
(11, 'pressure', 'bar', 'Хладагент'),
(12, 'vibration', 'mm/s', 'Дозирующий клапан'),
(12, 'temperature', '°C', 'Резервуар дозатора'),
(13, 'noise', 'dB', 'Механизм подачи этикеток'),
(13, 'vibration', 'mm/s', 'Ролик этикетировщика'),
(14, 'pressure', 'bar', 'Капсульная головка'),
(14, 'temperature', '°C', 'Зона капсуляции'),
(15, 'temperature', '°C', 'Стерилизационная камера'),
(15, 'pressure', 'bar', 'Паровой контур');

-- 4. Таблица sensor_readings (60 записей — по 2 на датчик)
-- Используем NOW() - случайное количество дней для реалистичности
INSERT INTO sensor_readings (sensor_id, timestamp, value) VALUES
(1, NOW() - INTERVAL '2 days', 24.5),
(1, NOW() - INTERVAL '1 day', 25.1),
(2, NOW() - INTERVAL '2 days', 1.8),
(2, NOW() - INTERVAL '1 day', 2.0),
(3, NOW() - INTERVAL '3 days', 6.2),
(3, NOW() - INTERVAL '1 day', 6.4),
(4, NOW() - INTERVAL '2 days', 3.1),
(4, NOW() - INTERVAL '12 hours', 3.3),
(5, NOW() - INTERVAL '1 day', 28.0),
(5, NOW() - INTERVAL '6 hours', 28.3),
(6, NOW() - INTERVAL '1 day', 65.0),
(6, NOW() - INTERVAL '8 hours', 67.2),
(7, NOW() - INTERVAL '4 days', 72.5),
(7, NOW() - INTERVAL '1 day', 73.0),
(8, NOW() - INTERVAL '2 days', 4.8),
(8, NOW() - INTERVAL '1 day', 4.9),
(9, NOW() - INTERVAL '1 day', 2.5),
(9, NOW() - INTERVAL '5 hours', 2.7),
(10, NOW() - INTERVAL '1 day', 70.0),
(10, NOW() - INTERVAL '4 hours', 72.5),
(11, NOW() - INTERVAL '3 days', 45.0),
(11, NOW() - INTERVAL '1 day', 46.2),
(12, NOW() - INTERVAL '2 days', 4.1),
(12, NOW() - INTERVAL '1 day', 4.3),
(13, NOW() - INTERVAL '1 day', 12.0),
(13, NOW() - INTERVAL '6 hours', 12.3),
(14, NOW() - INTERVAL '2 days', 68.0),
(14, NOW() - INTERVAL '1 day', 69.5),
(15, NOW() - INTERVAL '1 day', 3.5),
(15, NOW() - INTERVAL '10 hours', 3.6),
(16, NOW() - INTERVAL '2 days', 22.0),
(16, NOW() - INTERVAL '1 day', 22.5),
(17, NOW() - INTERVAL '1 day', 5.2),
(17, NOW() - INTERVAL '7 hours', 5.4),
(18, NOW() - INTERVAL '2 days', 2.9),
(18, NOW() - INTERVAL '1 day', 3.0),
(19, NOW() - INTERVAL '1 day', 55.0),
(19, NOW() - INTERVAL '3 hours', 56.1),
(20, NOW() - INTERVAL '1 day', 68.0),
(20, NOW() - INTERVAL '5 hours', 69.0),
(21, NOW() - INTERVAL '2 days', 4.0),
(21, NOW() - INTERVAL '1 day', 4.1),
(22, NOW() - INTERVAL '1 day', 8.5),
(22, NOW() - INTERVAL '9 hours', 8.7),
(23, NOW() - INTERVAL '2 days', 1.2),
(23, NOW() - INTERVAL '1 day', 1.3),
(24, NOW() - INTERVAL '1 day', 26.0),
(24, NOW() - INTERVAL '4 hours', 26.5),
(25, NOW() - INTERVAL '1 day', 62.0),
(25, NOW() - INTERVAL '6 hours', 63.5),
(26, NOW() - INTERVAL '2 days', 2.1),
(26, NOW() - INTERVAL '1 day', 2.2),
(27, NOW() - INTERVAL '1 day', 7.0),
(27, NOW() - INTERVAL '8 hours', 7.2),
(28, NOW() - INTERVAL '2 days', 35.0),
(28, NOW() - INTERVAL '1 day', 36.0),
(29, NOW() - INTERVAL '1 day', 85.0),
(29, NOW() - INTERVAL '2 hours', 86.5),
(30, NOW() - INTERVAL '2 days', 9.0),
(30, NOW() - INTERVAL '1 day', 9.2);

-- 5. Таблица production_batches (20 записей)
INSERT INTO production_batches (product_id, equipment_id, production_date, quantity_produced) VALUES
(1, 1, '2024-02-01', 10000),
(2, 1, '2024-02-02', 10000),
(3, 1, '2024-02-03', 10000),
(4, 3, '2024-02-01', 8000),
(5, 3, '2024-02-02', 8000),
(6, 3, '2024-02-03', 8000),
(7, 5, '2024-02-01', 12000),
(8, 5, '2024-02-02', 12000),
(9, 5, '2024-02-03', 12000),
(10, 7, '2024-02-01', 7000),
(11, 7, '2024-02-02', 7000),
(12, 7, '2024-02-03', 7000),
(1, 1, '2024-02-10', 10000),
(4, 3, '2024-02-10', 8000),
(7, 5, '2024-02-10', 12000),
(10, 7, '2024-02-10', 7000),
(2, 1, '2024-02-15', 10000),
(5, 3, '2024-02-15', 8000),
(8, 5, '2024-02-15', 12000),
(11, 7, '2024-02-15', 7000);

-- 6. Таблица inventory (12 записей — по одной на продукт)
INSERT INTO inventory (product_id, quantity_in_stock, last_updated) VALUES
(1, 5000, NOW() - INTERVAL '1 day'),
(2, 4800, NOW() - INTERVAL '1 day'),
(3, 5200, NOW() - INTERVAL '1 day'),
(4, 3000, NOW() - INTERVAL '1 day'),
(5, 3100, NOW() - INTERVAL '1 day'),
(6, 2900, NOW() - INTERVAL '1 day'),
(7, 6000, NOW() - INTERVAL '1 day'),
(8, 6200, NOW() - INTERVAL '1 day'),
(9, 5800, NOW() - INTERVAL '1 day'),
(10, 2000, NOW() - INTERVAL '1 day'),
(11, 2100, NOW() - INTERVAL '1 day'),
(12, 1900, NOW() - INTERVAL '1 day');

-- 7. Таблица sales (25 записей)
INSERT INTO sales (product_id, sale_date, quantity_sold, total_price, client) VALUES
(1, '2024-02-05', 1000, 99900.00, 'ООО "РитейлГрупп"'),
(2, '2024-02-05', 950, 94905.00, 'ООО "РитейлГрупп"'),
(3, '2024-02-06', 1100, 109890.00, 'ПАО "Супермаркеты России"'),
(4, '2024-02-07', 800, 119920.00, 'ИП Сидоров'),
(5, '2024-02-08', 750, 112425.00, 'ИП Сидоров'),
(6, '2024-02-09', 850, 127415.00, 'ПАО "Супермаркеты России"'),
(7, '2024-02-10', 1500, 134250.00, 'ООО "ФитнесБар"'),
(8, '2024-02-11', 1400, 125300.00, 'ООО "ФитнесБар"'),
(9, '2024-02-12', 1600, 143200.00, 'ООО "ФитнесБар"'),
(10, '2024-02-13', 500, 59500.00, 'ООО "ЗОЖ-Маркет"'),
(11, '2024-02-14', 480, 57120.00, 'ООО "ЗОЖ-Маркет"'),
(12, '2024-02-15', 520, 61880.00, 'ООО "ЗОЖ-Маркет"'),
(1, '2024-02-16', 900, 89910.00, 'ООО "РитейлГрупп"'),
(4, '2024-02-17', 700, 104930.00, 'ИП Сидоров'),
(7, '2024-02-18', 1300, 116350.00, 'ООО "ФитнесБар"'),
(10, '2024-02-19', 400, 47600.00, 'ООО "ЗОЖ-Маркет"'),
(2, '2024-02-20', 1000, 99900.00, 'ПАО "Супермаркеты России"'),
(5, '2024-02-21', 800, 119920.00, 'ИП Сидоров'),
(8, '2024-02-22', 1200, 107400.00, 'ООО "ФитнесБар"'),
(11, '2024-02-23', 500, 59500.00, 'ООО "ЗОЖ-Маркет"'),
(3, '2024-02-24', 950, 113805.00, 'ПАО "Супермаркеты России"'),
(6, '2024-02-25', 750, 112425.00, 'ИП Сидоров'),
(9, '2024-02-26', 1400, 125300.00, 'ООО "ФитнесБар"'),
(12, '2024-02-27', 480, 57120.00, 'ООО "ЗОЖ-Маркет"'),
(1, '2024-02-28', 800, 79920.00, 'ООО "РитейлГрупп"');

-- 8. Таблица maintenance_logs (20 записей)
INSERT INTO maintenance_logs (equipment_id, date, type, description, technician) VALUES
(1, '2023-11-10', 'planned', 'Замена подшипников и смазка', 'Иванов А.С.'),
(2, '2024-01-05', 'planned', 'Калибровка пресса', 'Петров В.И.'),
(3, '2023-12-18', 'predictive', 'Замена изношенного ремня', 'Сидоров К.Л.'),
(4, '2023-10-20', 'planned', 'Чистка теплообменника', 'Кузнецов М.А.'),
(6, '2023-09-15', 'emergency', 'Ремонт электродвигателя', 'Смирнов Д.О.'),
(6, '2024-02-14', 'planned', 'Диагностика после ремонта', 'Смирнов Д.О.'),
(7, '2023-11-25', 'planned', 'Замена уплотнений', 'Федоров Е.Н.'),
(8, '2023-09-30', 'planned', 'Замена фильтрующего элемента', 'Морозов П.Р.'),
(10, '2024-01-22', 'planned', 'Проверка вентиляторов', 'Лебедев С.Т.'),
(11, '2023-12-01', 'planned', 'Дозаправка хладагента', 'Громов А.В.'),
(12, '2023-10-10', 'predictive', 'Калибровка дозатора', 'Никитин И.Ю.'),
(14, '2024-02-01', 'planned', 'Замена капсульной головки', 'Орлов В.К.'),
(15, '2023-11-15', 'planned', 'Санитарная обработка', 'Щербаков Л.М.'),
(1, '2023-05-20', 'planned', 'Регулярное ТО', 'Иванов А.С.'),
(2, '2023-07-12', 'planned', 'Регулярное ТО', 'Петров В.И.'),
(3, '2023-08-30', 'planned', 'Регулярное ТО', 'Сидоров К.Л.'),
(4, '2023-06-18', 'planned', 'Регулярное ТО', 'Кузнецов М.А.'),
(7, '2023-08-10', 'planned', 'Регулярное ТО', 'Федоров Е.Н.'),
(10, '2023-10-05', 'planned', 'Регулярное ТО', 'Лебедев С.Т.'),
(15, '2023-08-20', 'planned', 'Регулярное ТО', 'Щербаков Л.М.');

-- 9. Таблица failure_predictions (15 записей)
INSERT INTO failure_predictions (equipment_id, sensor_id, prediction_date, failure_date_est, risk_level, recommendation) VALUES
(6, 11, '2024-02-10', '2024-02-25', 'high', 'Немедленная замена подшипника'),
(2, 4, '2024-02-12', '2024-03-10', 'medium', 'Планировать замену гидравлики'),
(1, 2, '2024-02-14', '2024-03-20', 'low', 'Мониторинг вибрации'),
(3, 6, '2024-02-15', '2024-03-01', 'medium', 'Проверить крепления корпуса'),
(9, 18, '2024-02-16', '2024-02-28', 'high', 'Заменить мотор насоса'),
(5, 9, '2024-02-17', '2024-03-15', 'low', 'Смазать подшипники конвейера'),
(7, 13, '2024-02-18', '2024-03-05', 'medium', 'Проверить уплотнения'),
(12, 23, '2024-02-19', '2024-03-12', 'low', 'Калибровка клапана'),
(14, 27, '2024-02-20', '2024-03-01', 'medium', 'Замена капсульной головки'),
(15, 29, '2024-02-21', '2024-03-10', 'low', 'Проверить герметичность камеры'),
(4, 8, '2024-02-22', '2024-03-18', 'medium', 'Очистить входной фильтр'),
(10, 19, '2024-02-23', '2024-03-05', 'high', 'Заменить нагревательный элемент'),
(11, 22, '2024-02-24', '2024-03-20', 'low', 'Проверить уровень хладагента'),
(8, 15, '2024-02-25', '2024-03-10', 'medium', 'Замена фильтрующего элемента'),
(13, 25, '2024-02-26', '2024-03-15', 'low', 'Смазать механизм подачи');

-- Конец файла